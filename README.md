# 🍶 酒ナビ（Sake Navi）

にいがた酒の陣で友人とお酒のレビュー・情報を共有するWebアプリ

## 特徴

- 📍 **フロアマップ連携** - 会場マップから酒蔵をタップして直接アクセス
- ⭐ **簡単レビュー** - 星5評価 + タグ + コメントで手軽に記録
- 👥 **リアルタイム共有** - 友人のレビューをタイムラインで即確認
- 🔔 **Discord通知** - 投稿があるとDiscordチャンネルに自動通知
- 📱 **スマホ最適化** - 会場を歩きながら片手で操作

## 技術スタック

- Next.js (App Router) + TypeScript
- Hono (API)
- Cloudflare Workers + D1
- OpenNext (`@opennextjs/cloudflare`)
- Drizzle ORM

## セットアップ

### 前提条件

- Node.js >= 20
- pnpm
- Cloudflare アカウント
- Wrangler CLI (`pnpm add -g wrangler`)

### インストール

```bash
git clone <repository-url>
cd sake-navi
pnpm install
```

### ローカル開発

```bash
# D1データベース作成（初回のみ）
wrangler d1 create sake-navi-db

# wrangler.toml の database_id を更新

# マイグレーション適用
pnpm db:migrate:local

# 初期データ投入（酒蔵・お酒マスタ）
pnpm db:seed:local

# 開発サーバー起動
pnpm dev
```

### デプロイ

```bash
# リモートD1にマイグレーション適用
pnpm db:migrate:remote

# 初期データ投入
pnpm db:seed:remote

# Discord Webhook設定
wrangler secret put DISCORD_WEBHOOK_URL

# デプロイ
pnpm build
pnpm deploy
```

## 使い方

1. サイトにアクセスし、名前を入力
2. フロアマップから酒蔵をタップ
3. お酒を選んでレビューを投稿
4. タイムラインで友人のレビューを確認

## ドキュメント

- [設計書](./DESIGN.md) - 機能一覧、画面設計、DB設計、API設計
- [CLAUDE.md](./CLAUDE.md) - AI開発ガイド、アーキテクチャ判断
- [酒蔵データ](./src/data/) - フロアマップの酒蔵・お酒マスタ

## フロアマップ酒蔵一覧

画像のフロアマップから読み取った酒蔵一覧（ブース番号順）:

<details>
<summary>酒蔵一覧（クリックで展開）</summary>

### 列 82（最上段）

北雪酒造, 笹祝酒造, 白龍酒造, 下越酒造, 越つかの酒造, 塩川酒造, 越後酒造場, 大洋酒造, 越後桜酒造, 金鵄盃酒造, 金升酒造, 菊水酒造, 王紋酒造, 石本酒造

### 列 68

宮尾酒造, 君の井酒造, サケアイ, 峰乃白梅酒造, 高野酒造, 近藤酒造, 今代司酒造, 弥彦酒造, DHC酒造, ふじの井酒造, 越後鶴亀, ラグーンブリュワリー, たからやま醸造, 麒麟山酒造

### 列 54

天領盃酒造, 小山酒造店, 加藤酒造, 田原酒造, 丸山酒造場, 田中酒造, 妙高酒造, さかけ（？）, 猪又酒造, 逸見酒造, 葛城酒造店, 加茂錦酒造, 栃倉酒造, 葵酒造

### 列 41

加茂錦酒造, 加賀の井酒造, 代々菊醸造, 尾畑酒造, よしかわ杜氏の郷, 鮎正宗酒造, 千代の光酒造, 新潟第一酒造, 竹田酒造店, 上越酒造, 武蔵野酒造, 雪と里山醸造所, 吉乃川

### 列 28

朝日酒造, 雪椿酒造, お福酒造, 魚沼酒造, 越銘醸, 高の井酒造, 原酒造, 長谷川酒造, 諸橋酒造, 緑川酒造, 苗場酒造, 河忠酒造, 石塚酒造, 玉川

### 列 14（最下段）

阿部酒造, 津南醸造, 新潟銘醸, マスカガミ, 青木酒造, 恩田酒造, 中川酒造, 松乃井酒造場, 白瀧酒造, 池浦酒造, 福顔酒造, 八海醸造, 柏露酒造, 関原酒造

</details>
